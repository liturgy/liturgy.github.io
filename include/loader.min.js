function loadHome(){$.ajax({type:"GET",url:"sites/home/home.html",success:function(e){$("#content").html(e),loadAsideMenu({folder:"/"})},error:function(){$("#content").load("404.html"),colorize()},complete:function(){lastVisitedURL={folder:"/home/",name:""}}})}function loadAsideMenu(e){e.folder!=lastVisitedURL.folder?$.ajax({method:"GET",url:function(){return"/"==e.folder?"sites/home/aside_menu.html":"sites/"+e.folder+"/aside_menu.html"}(),success:function(e){$(".wrap-aside").html(e)},complete:function(){colorize()}}):colorize()}function colorize(){removeColor(),$(".wrap-aside > ul a[href="+window.location.hash+"]").addClass("current-page")}function removeColor(){$(".wrap-aside > ul a").removeClass("current-page")}var lastVisitedURL={folder:"home",name:""};$.routes({"/":loadHome,"/home":loadHome,"/:folder/":function(e){$.ajax({type:"GET",url:"sites/"+e.folder+"/home.html",success:function(o){$("#content").html(o),loadAsideMenu(e)},error:function(){$("#content").load("404.html"),colorize()},complete:function(){lastVisitedURL=e}})},"/:folder/:file":function(e){$.ajax({type:"GET",url:"sites/"+e.folder+"/"+e.file+".html",success:function(o){$("#content").html(o),loadAsideMenu(e)},error:function(){$("#content").load("404.html"),colorize()},complete:function(){lastVisitedURL=e}})},"/:folder/:file/:anchor":function(e){(lastVisitedURL.folder!=e.folder||lastVisitedURL.file!=e.file)&&$.ajax({type:"GET",url:"sites/"+e.folder+"/"+e.file+".html",success:function(o){$("#content").html(o),loadAsideMenu(e)},error:function(){$("#content").load("404.html"),colorize()},complete:function(){lastVisitedURL=e}}),$(window).scrollTop($("#"+e.anchor).offset().top)}});